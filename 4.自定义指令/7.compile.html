<!DOCTYPE html>
<html lang="en" ng-app="zfMod">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body ng-init="word='zf'">
<div times="4">
    <p>hello {{word}}</p>
</div>

<script src="../angular.js"></script>
<script>
    angular.module('zfMod',[])
            .directive('times',function(){
                return {
                    compile:function(element,attrs){
                        var tpl=element.children();
                        //console.log(element[0].outerHTML)
                        for(var i=0;i<attrs.times-1;i++){
                            element.append(tpl.clone())
                        }

                        return function(scope,element,attrs){
                             scope.word='new zfx';
                             console.log('compile部的link')
                        }
                    },
                    link:function(scope,element,attrs){
                        console.log('外部的link`')
                        scope.word='new zf'
                    }
                }
            })
</script>
</body>
</html>